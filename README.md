# RedPackage
red package distribute algorithm in wechat

## 红包序列限制条件
1. 每个红包至少有1分钱
2. 全部红包总额是总金额数
3. 每个红包的数学期望相等

## 实现基本思路
假设红包金额为money,拆分为n个红包
1. 检验红包金额是否能够发给n个用户
2. 预留n\*0.01元钱，保证每个红包至少有1分钱，剩余(money-n\*0.01)元钱，即(100\*money-n)分钱。采用随机数rand(n)将每一分钱随机分配给长度为n的红包序列。
此处时间复杂度为o(money\*100)

## 测试用例
``` c++
usecase1: money=10.00, n=5
[2.08,2.04,1.91,2.00,1.91]
[1.94,1.78,2.19,1.96,2.07]
[2.06,1.98,2.00,2.08,1.82]

usecase2: money=5.00, n=10
[0.40,0.42,0.43,0.60,0.53,0.46,0.53,0.57,0.42,0.54]
[0.59,0.37,0.47,0.55,0.52,0.49,0.44,0.48,0.55,0.44]
[0.54,0.48,0.48,0.53,0.48,0.53,0.43,0.53,0.44,0.46]
```

## 结论
该红包算法保证每个红包的数学期望为money/n

